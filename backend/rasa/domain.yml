version: "3.1"
intents:
  - greet
  - check_bill
  - report_outage
  - signup
  - payment_status
  - support_ticket
  - service_plans
  - goodbye
  - about
  - nlu_fallback

slots:
  name:
    type: text
    mappings:
      - type: from_text
        intent: signup
  phone:
    type: text
    mappings:
      - type: from_text
        intent: [check_bill, payment_status, signup]
  support_phone:
    type: text
    mappings:
      - type: from_text
        intent: support_ticket
  awaiting_name:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  awaiting_phone:
    type: bool
    initial_value: false
    mappings:
      - type: custom

responses:
  utter_ask_name:
    - text: "Please enter your full name. ðŸŒ¿"
  utter_ask_phone:
    - text: "Please enter your phone number (e.g., 0712345678). ðŸŒ±"
  utter_bill_info:
    - text: "âœ… Your bill: {amount} KES, due {due_date}, status: {status}"
  utter_outage_reported:
    - text: "âœ… Outage reported: {description}. We'll investigate soon! ðŸŒ±"
  utter_signup_success:
    - text: "âœ… Signup successful! Welcome, {name}! ðŸ˜Š"
  utter_payment_status:
    - text: "âœ… Payment history for {phone}: {total_paid} KES paid. Last payment: {last_payment_date}. ðŸŒ±"
  utter_support_ticket:
    - text: "âœ… Support ticket raised for {description}. Our team will contact you at {support_phone} soon! ðŸŒ¿"
  utter_service_plans:
    - text: "ðŸŒŸ Bayzinet Service Plans:\n1. Basic - 500 KES/mo (5 Mbps)\n2. Pro - 1000 KES/mo (10 Mbps)\n3. Premium - 2000 KES/mo (20 Mbps)\nReply with plan number to proceed! ðŸ˜Š"
  utter_invalid_input:
    - text: "ðŸš« Oops! Invalid input. Please try again or select a valid option (1-8). ðŸ˜”"
  utter_goodbye:
    - text: "Thanks for chatting! Have a great day! ðŸ‘‹"
  utter_about:
    - text: "ðŸŒŸ About Bayzinet Customer Care Chatbot:\n- Built with: Rasa, FastAPI, MySQL, Twilio, pymysql, dotenv.\n- Developer: **Ericadesh**\n- Contact: 0741091661\nHappy to assist! ðŸ˜Š"
  utter_fallback:
    - text: "ðŸš« Sorry, I didnâ€™t understand. Try a valid option (1-8) or command. ðŸ˜”"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

actions:
  - action_list_commands
  - action_check_bill
  - action_report_outage
  - action_signup
  - action_payment_status
  - action_support_ticket
  - action_service_plans
  - action_about
